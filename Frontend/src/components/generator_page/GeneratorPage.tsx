"use client";

import { useState } from "react";
import PromptInput from "../prompt_Input/PromptInput";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";

import useAuthStore from "@/store/useAuthStore";

export default function GeneratorPage() {
  const { user } = useAuthStore();
  const [model, setModel] = useState("Gemini");
  const [hasPrompt] = useState(false);

  // Extract only the first name (fallback to empty string if no user)
  const firstName = user?.name ? user.name.split(" ")[0] : "";

  return (
    <div className="flex flex-col flex-1 h-screen bg-zinc-950 text-white">
      {/* Header */}
      <div className="flex items-center justify-between h-12 py-10 px-5 ">
        {/* Model Selector */}
        <div className="w-40">
          <Select value={model} onValueChange={setModel}>
            <SelectTrigger className="w-full bg-zinc-900 text-white border-zinc-700 h-9 text-sm">
              <SelectValue placeholder="Select model" />
            </SelectTrigger>
            <SelectContent className="bg-zinc-900 text-white border-zinc-700">
              <SelectItem value="Gemini" defaultChecked>
                <div className="flex items-center gap-2">
                  <svg
                    width="250"
                    height="250"
                    viewBox="0 0 128 128"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_2002_757)">
                      <path
                        d="M128 64.128C111.394 65.1471 95.7329 72.2036 83.9683 83.9683C72.2036 95.7329 65.1471 111.394 64.128 128H63.872C62.8546 111.393 55.7986 95.7314 44.0336 83.9664C32.2686 72.2014 16.6071 65.1454 0 64.128L0 63.872C16.6071 62.8546 32.2686 55.7986 44.0336 44.0336C55.7986 32.2686 62.8546 16.6071 63.872 0L64.128 0C65.1471 16.6065 72.2036 32.2671 83.9683 44.0317C95.7329 55.7964 111.394 62.8529 128 63.872V64.128Z"
                        fill="url(#paint0_radial_2002_757)"
                      />
                    </g>
                    <defs>
                      <radialGradient
                        id="paint0_radial_2002_757"
                        cx="0"
                        cy="0"
                        r="1"
                        gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(12.704 52.024) rotate(18.6832) scale(136.24 1091.37)"
                      >
                        <stop offset="0.067" stop-color="#9168C0" />
                        <stop offset="0.343" stop-color="#5684D1" />
                        <stop offset="0.672" stop-color="#1BA1E3" />
                      </radialGradient>
                      <clipPath id="clip0_2002_757">
                        <rect width="128" height="128" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <span className="truncate">Gemini</span>
                </div>
              </SelectItem>

              <SelectItem value="openAI">
                <div className="flex items-center gap-2">
                  <svg
                    width="250"
                    height="250"
                    viewBox="0 0 128 128"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M119.562 52.386C120.657 49.1376 121.216 45.7365 121.217 42.313C121.216 36.6482 119.687 31.0855 116.786 26.197C110.957 16.1853 100.143 10.0041 88.4404 10.0041C86.1348 10.0042 83.8356 10.2444 81.5812 10.7209C78.5489 7.34999 74.8268 4.65157 70.6604 2.8036C66.494 0.955635 61.9778 9.85221e-05 57.4098 0H57.2047L57.1277 0.000446627C42.9532 0.000446627 30.3829 9.02505 26.0255 22.3293C21.5151 23.2409 17.254 25.0925 13.5276 27.7605C9.80118 30.4284 6.69536 33.851 4.41806 37.7992C1.52587 42.7171 0.0017698 48.3017 0 53.9876C0.00110529 61.9785 3.00737 69.6847 8.43665 75.614C7.34071 78.8623 6.78177 82.2634 6.7813 85.687C6.78181 91.3518 8.31112 96.9144 11.212 101.803C14.6618 107.729 19.9299 112.422 26.2569 115.203C32.5838 117.984 39.6426 118.711 46.4152 117.279C49.4479 120.65 53.1703 123.348 57.337 125.196C61.5037 127.044 66.0201 128 70.5884 128H70.7935L70.8769 128C85.059 128 97.6252 118.975 101.983 105.658C106.493 104.746 110.754 102.894 114.481 100.226C118.207 97.5585 121.313 94.1359 123.591 90.1879C126.48 85.2743 128.001 79.6944 128 74.0138C127.999 66.023 124.993 58.3169 119.563 52.3878L119.562 52.386ZM70.8017 119.632H70.7682C65.0933 119.63 59.5985 117.666 55.2395 114.08C55.4984 113.943 55.7542 113.8 56.0067 113.651L81.8366 98.93C82.4812 98.568 83.0172 98.044 83.3901 97.4114C83.763 96.7788 83.9596 96.0601 83.9598 95.3282V59.3733L94.8775 65.5933C94.9348 65.6215 94.9842 65.6632 95.0212 65.7148C95.0583 65.7663 95.0819 65.826 95.0899 65.8887V95.6442C95.075 108.873 84.2103 119.605 70.8017 119.632ZM18.569 97.6202C16.4354 93.9802 15.3113 89.8499 15.3099 85.645C15.3099 84.2735 15.4313 82.8985 15.6677 81.5471C15.8597 81.6606 16.1949 81.8626 16.4353 81.9989L42.2652 96.7203C42.9092 97.0912 43.6415 97.2866 44.3872 97.2864C45.1329 97.2863 45.8651 97.0906 46.5089 96.7194L78.0445 78.7528V91.1933L78.0449 91.2148C78.045 91.2747 78.0308 91.3338 78.0037 91.3874C77.9766 91.441 77.9372 91.4876 77.8887 91.5236L51.7771 106.399C48.0824 108.497 43.8945 109.602 39.6316 109.603C35.3642 109.603 31.172 108.495 27.4752 106.392C23.7784 104.288 20.707 101.263 18.569 97.6189V97.6202ZM11.7736 41.9819C14.6106 37.1199 19.0901 33.3972 24.4282 31.4652C24.4282 31.6846 24.4155 32.0734 24.4155 32.3433V61.7864L24.415 61.8105C24.4151 62.5416 24.6113 63.2596 24.9837 63.8917C25.356 64.5237 25.8913 65.0473 26.5351 65.4092L58.0706 83.3731L47.1534 89.5931C47.0996 89.6281 47.0378 89.6495 46.9735 89.6552C46.9093 89.661 46.8446 89.651 46.7852 89.6262L20.6709 74.7381C16.9792 72.628 13.9145 69.5976 11.7838 65.9506C9.65313 62.3036 8.53134 58.1681 8.53085 53.9585C8.5325 49.7556 9.65108 45.6265 11.775 41.9832L11.7736 41.9819ZM101.473 62.5778L69.9375 44.6118L80.8552 38.394C80.909 38.3589 80.9708 38.3375 81.0351 38.3318C81.0993 38.326 81.164 38.336 81.2234 38.3609L107.337 53.2364C111.032 55.3432 114.1 58.372 116.233 62.0186C118.366 65.6653 119.49 69.8015 119.491 74.012C119.491 84.0617 113.135 93.0541 103.579 96.525V66.2015C103.58 66.1904 103.58 66.1787 103.58 66.1676C103.58 65.4392 103.385 64.7238 103.015 64.0935C102.645 63.4632 102.113 62.9404 101.473 62.5778ZM112.34 46.4408C112.086 46.2873 111.83 46.1369 111.572 45.9895L85.7424 31.2677C85.0984 30.8974 84.3664 30.7022 83.6211 30.7019C82.8757 30.7022 82.1437 30.8974 81.4997 31.2677L49.9637 49.2342V36.7937L49.9632 36.7723C49.9632 36.6507 50.0216 36.5363 50.1199 36.4635L76.2315 21.6005C79.925 19.4995 84.1133 18.3935 88.3765 18.3933C101.802 18.3933 112.69 29.1361 112.69 42.3832C112.689 43.7426 112.572 45.0996 112.34 46.4395V46.4408ZM44.0279 68.6137L33.108 62.3937C33.0507 62.3655 33.0013 62.3238 32.9643 62.2723C32.9272 62.2208 32.9036 62.161 32.8956 62.0983V32.3424C32.9015 19.1025 43.7893 8.36859 57.2092 8.36859C62.8929 8.36975 68.3969 10.3343 72.7659 13.9214C72.5694 14.0273 72.2265 14.2141 71.9987 14.3504L46.1688 29.0718C45.5243 29.4335 44.9884 29.9573 44.6156 30.5897C44.2427 31.2221 44.0462 31.9406 44.0461 32.6722V32.6959L44.0279 68.6137ZM49.9587 55.9972L64.0041 47.9928L78.0495 55.9918V71.9952L64.0041 79.9947L49.9587 71.9952V55.9972Z"
                      fill="white"
                    />
                  </svg>
                  <span className="truncate">OpenAI</span>
                </div>
              </SelectItem>

              <SelectItem value="midjourney">
                <div className="flex items-center gap-2">
                  <svg
                    width="250"
                    height="250"
                    viewBox="0 0 128 108"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M78.9316 78.834C70.2629 75.4539 61.1202 73.7917 51.503 73.8484C40.1503 73.9158 29.2243 77.1711 19.9521 83.2429C18.1063 84.4496 16.1323 82.146 17.5301 80.6422C18.3196 79.7909 19.0273 78.9203 19.6533 78.0309C25.2586 70.0599 28.5746 61.0711 29.6013 51.0646C31.3405 34.0907 25.8633 17.9094 17.4696 3.16129C17.1246 2.55615 17.4588 1.41676 18.0778 1.01334C18.7251 0.59126 19.3856 0.554449 20.0588 0.903653C33.1875 7.73526 44.909 16.1813 55.2232 26.2426C69.5137 40.1804 80.0626 57.3063 82.5344 77.2171C82.6816 78.3943 82.2191 79.1089 81.1474 79.3613C80.4574 79.5242 79.6429 79.1101 78.9316 78.834ZM92.0341 102.619C94.2393 104.265 96.2881 104.106 98.3828 102.581C100.742 100.861 103.172 99.0941 105.674 97.2799C107.826 95.7194 110.39 95.1675 113.001 95.8716C114.023 96.15 115.206 96.7844 116.55 97.7753C118.894 99.508 121.252 101.222 123.624 102.917C124.39 103.462 125.211 103.74 126.089 103.752C127.21 103.768 127.843 104.33 127.988 105.436C128.017 105.637 127.993 105.842 127.917 106.031C127.594 106.856 126.989 107.27 126.099 107.272C124.506 107.28 123.054 106.829 121.743 105.921C119.204 104.159 116.699 102.348 114.231 100.489C112.264 99.0137 110.102 98.5043 108.018 100.005C105.404 101.883 102.794 103.765 100.186 105.652C97.9713 107.254 95.5671 107.708 92.9731 107.014C91.8754 106.719 90.6636 106.076 89.3384 105.086C86.9034 103.267 84.5996 101.597 82.4276 100.076C80.5499 98.7568 78.6541 98.765 76.7409 100.1C74.6424 101.565 72.4409 103.161 70.1362 104.888C68.6377 106.01 67.3429 106.719 66.2522 107.014C63.6749 107.715 61.2635 107.262 59.0182 105.655C56.6133 103.935 54.2219 102.197 51.8442 100.44C49.3797 98.621 47.4662 98.7061 45.0405 100.461C42.6167 102.216 40.1946 103.973 37.7743 105.733C35.657 107.271 33.281 107.695 30.647 107.004C29.5516 106.716 28.3423 106.075 27.0191 105.082C24.7311 103.365 22.2806 101.594 19.6676 99.7711C18.1846 98.7342 15.9543 98.9854 14.5496 100.005C11.832 101.976 9.10408 103.932 6.36588 105.875C5.00488 106.84 3.41639 107.3 1.59989 107.255C0.867396 107.238 0.351648 106.785 0.0528985 105.896C0.00540904 105.756 -0.0103848 105.608 0.00664866 105.461C0.118148 104.366 0.726146 103.794 1.83114 103.745C2.86264 103.7 3.73289 103.42 4.44163 102.906C7.04216 101.021 9.64565 99.1395 12.2521 97.2622C12.3161 97.215 12.3291 97.156 12.2911 97.0854C11.1381 95.0433 9.97388 93.0075 8.79862 90.9781C8.04462 89.683 8.70987 88.2533 10.2569 88.1543C45.9482 85.9308 81.6389 83.6981 117.329 81.456C117.793 81.4256 118.259 81.4232 118.723 81.4491C119.812 81.5093 120.459 82.7335 120.157 83.7172C120.057 84.0452 119.761 84.4297 119.267 84.8707C111.315 91.9866 101.943 97.6127 92.0626 102.319C91.8894 102.404 91.8801 102.504 92.0341 102.619ZM13.3299 91.6078C13.3239 91.6097 13.3185 91.6128 13.3139 91.617C13.3093 91.6211 13.3057 91.6263 13.3033 91.632C13.3009 91.6377 13.2998 91.6439 13.3001 91.65C13.3003 91.6562 13.302 91.6623 13.3049 91.6678L15.5383 95.5498C15.5689 95.6025 15.6149 95.6446 15.6703 95.6705C15.7256 95.6964 15.7876 95.7048 15.8478 95.6945C18.0861 95.3197 20.0978 95.7478 21.8833 96.9792C24.2473 98.6071 26.7476 100.41 29.3843 102.389C31.3653 103.876 33.4425 104.399 35.548 102.917C37.6083 101.466 40.053 99.698 42.8818 97.6127C45.4352 95.7301 47.9747 95.0578 51.0407 95.9709C51.9202 96.2325 53.133 96.9401 54.679 98.0937C56.769 99.6489 58.8771 101.18 61.0027 102.687C63.2932 104.311 65.2707 104.07 67.4757 102.414C69.9395 100.561 72.4391 98.7544 74.9732 96.9968C78.1386 94.7994 81.9831 95.2454 85.0384 97.5311C86.1216 98.3437 87.2171 99.14 88.3246 99.9196C88.4294 99.9954 88.5706 100.01 88.6921 99.9559C97.4856 95.9592 105.549 91.1763 112.883 85.6067C113.194 85.3707 113.155 85.2659 112.766 85.2918C79.6774 87.3652 46.8282 89.4213 14.2189 91.4593C13.9183 91.479 13.6204 91.5287 13.3299 91.6078ZM88.9861 75.094C84.8429 58.9906 77.6689 43.5418 67.3407 30.9379C62.8997 25.5195 58.0957 21.0266 52.9292 17.46C51.631 16.5648 52.3565 14.3676 53.9427 14.3746C54.3482 14.3746 54.7892 14.4818 55.266 14.6965C78.6044 25.1703 95.4273 45.1625 105.08 68.5303C106.15 71.1208 107.094 73.7611 107.908 76.4421C108.416 78.1088 106.855 79.6197 105.293 78.6323C101.274 76.0954 95.9216 75.9078 90.8961 76.5376C89.9571 76.6545 89.2066 75.9576 88.9861 75.094ZM92.2511 72.8543C95.8433 72.5004 99.6241 72.7339 103.113 73.7567C103.131 73.7613 103.149 73.7612 103.166 73.7563C103.184 73.7513 103.199 73.7418 103.212 73.7288C103.224 73.7157 103.233 73.6995 103.237 73.6819C103.241 73.6644 103.24 73.6461 103.234 73.6291C96.2736 54.8365 84.3876 37.7601 68.0589 26.0762C67.7627 25.866 67.7342 25.8981 67.9737 26.1717C79.5754 39.4337 87.4819 55.654 92.0306 72.7021C92.0613 72.8152 92.1348 72.866 92.2511 72.8543ZM30.5153 24.3811C35.5905 41.808 34.3103 60.3777 25.1768 76.0991C25.1706 76.1091 25.1679 76.1208 25.1691 76.1325C25.1704 76.1442 25.1755 76.1551 25.1836 76.1636C25.1918 76.1721 25.2025 76.1776 25.2142 76.1793C25.2259 76.1811 25.2378 76.1789 25.2481 76.1732C33.5965 72.321 42.4075 70.3666 51.6807 70.3101C60.8427 70.2534 69.7674 71.7632 78.4551 74.8393C78.4727 74.8457 78.4916 74.8474 78.51 74.8442C78.5284 74.841 78.5456 74.8332 78.56 74.8213C78.5744 74.8095 78.5854 74.7941 78.592 74.7767C78.5985 74.7593 78.6004 74.7405 78.5974 74.7222C75.1119 52.8833 60.551 34.5046 43.7958 20.7896C37.5883 15.7063 30.9315 11.1049 23.8253 6.98636C23.5953 6.85181 23.5421 6.90354 23.6653 7.14206C26.4443 12.4993 28.7276 18.2457 30.5153 24.3811Z"
                      fill="white"
                    />
                  </svg>
                  <span className="truncate">MidJourney</span>
                </div>
              </SelectItem>

              <SelectItem value="Runway">
                <div className="flex items-center gap-2">
                  <img
                    src="https://runwayml.com/icon.png?354f8c2b5139d556"
                    alt="Runway AI"
                    className="h-4 w-4 md:h-5 md:w-5 object-contain"
                  />
                  <span className="truncate">Runway AI</span>
                </div>
              </SelectItem>

              <SelectItem value="x-ai">
                <div className="flex items-center gap-2">
                  <svg
                    role="img"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="white"
                  >
                    <title>X</title>
                    <path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z" />
                  </svg>
                  <span className="truncate">X.AI</span>
                </div>
              </SelectItem>

              <SelectItem value="nebius-ai">
                <div className="flex items-center gap-2">
                  <svg
                    width="200"
                    height="200"
                    viewBox="0 0 200 200"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect width="200" height="200" fill="#c4e619" />

                    <path
                      d="M 50 60 C 50 50 55 45 65 45
           C 75 45 80 50 85 60
           L 110 110
           C 115 120 120 125 130 125
           C 140 125 145 120 145 110
           L 145 65
           C 145 55 150 50 160 50
           C 170 50 175 55 175 65
           L 175 140
           C 175 150 170 155 160 155
           C 150 155 145 150 140 140
           L 115 90
           C 110 80 105 75 95 75
           C 85 75 80 80 80 90
           L 80 135
           C 80 145 75 150 65 150
           C 55 150 50 145 50 135
           Z"
                      fill="#333333"
                    />
                  </svg>
                  <span className="truncate">Nebius</span>
                </div>
              </SelectItem>

              <SelectItem value="3d image">
                <div className="flex items-center gap-2">
                  <svg
                    role="img"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="green"
                  >
                    <title>NVIDIA</title>
                    <path d="M8.948 8.798v-1.43a6.7 6.7 0 0 1 .424-.018c3.922-.124 6.493 3.374 6.493 3.374s-2.774 3.851-5.75 3.851c-.398 0-.787-.062-1.158-.185v-4.346c1.528.185 1.837.857 2.747 2.385l2.04-1.714s-1.492-1.952-4-1.952a6.016 6.016 0 0 0-.796.035m0-4.735v2.138l.424-.027c5.45-.185 9.01 4.47 9.01 4.47s-4.08 4.964-8.33 4.964c-.37 0-.733-.035-1.095-.097v1.325c.3.035.61.062.91.062 3.957 0 6.82-2.023 9.593-4.408.459.371 2.34 1.263 2.73 1.652-2.633 2.208-8.772 3.984-12.253 3.984-.335 0-.653-.018-.971-.053v1.864H24V4.063zm0 10.326v1.131c-3.657-.654-4.673-4.46-4.673-4.46s1.758-1.944 4.673-2.262v1.237H8.94c-1.528-.186-2.73 1.245-2.73 1.245s.68 2.412 2.739 3.11M2.456 10.9s2.164-3.197 6.5-3.533V6.201C4.153 6.59 0 10.653 0 10.653s2.35 6.802 8.948 7.42v-1.237c-4.84-.6-6.492-5.936-6.492-5.936z" />
                  </svg>
                  <span className="truncate">3D Image</span>
                </div>
              </SelectItem>
            </SelectContent>
          </Select>
        </div>
      </div>

      {/* Main Content */}
      <div className="flex-1 overflow-y-auto flex items-center justify-center px-4">
        {!hasPrompt && (
          <h1 className="text-xl md:text-2xl font-medium text-center max-w-xl text-zinc-200">
            Hi <span className="font-semibold">{firstName}</span>, what do you
            want to create today?
          </h1>
        )}
      </div>

      {/* Prompt Input */}
      <PromptInput />
    </div>
  );
}
